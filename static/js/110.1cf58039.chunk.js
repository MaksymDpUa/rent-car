"use strict";(self.webpackChunkrent_car=self.webpackChunkrent_car||[]).push([[110],{110:function(n,e,t){t.r(e),t.d(e,{default:function(){return K}});var r=t(142);function o(n,e,t){return(e=(0,r.Z)(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function a(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function i(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?a(Object(t),!0).forEach((function(e){o(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var c,u,l,s,d,f,p,h=t(439),x=t(791),g=t(43),b=t(168),m=t(686),v=m.Z.button(c||(c=(0,b.Z)(["\n  display: block;\n  margin: 100px auto 0 auto;\n  border: none;\n  color: #3470ff;\n  background-color: inherit;\n  font-family: Manrope;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 24px; /* 150% */\n  text-decoration-line: underline;\n  cursor: pointer;\n"]))),y=t(184),j=function(n){var e=n.handleLoadMore;return(0,y.jsx)(v,{onClick:e,children:"Load more"})},Z=t(984),w=m.Z.form(u||(u=(0,b.Z)(["\n  display: flex;\n  gap: 18px;\n  margin: 0 auto 50px auto;\n  justify-content: center;\n  align-items: flex-end;\n"]))),k=m.Z.label(l||(l=(0,b.Z)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  color: #8a8a89;\n  font-family: Manrope;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 18px; /* 128.571% */\n"]))),S=m.Z.div(s||(s=(0,b.Z)(["\n  display: flex;\n"]))),O=m.Z.input(d||(d=(0,b.Z)(["\n  /* display: flex; */\n  padding: 14px 18px 14px 18px;\n  border: none;\n  /* justify-content: center;\n  align-items: center; */\n  /* gap: 32px; */\n  width: ",";\n  border-radius: 14px;\n  background: #f7f7fb;\n  color: #121417;\n"])),(function(n){switch(n.name){case"brand":return"224px";case"price":return"125px";default:return"160px"}})),C=m.Z.button(f||(f=(0,b.Z)(["\n  display: flex;\n  border-radius: 12px;\n  width: 136px;\n  height: 48px;\n  padding: 14px 44px;\n  border: none;\n  justify-content: center;\n  align-items: center;\n  flex-shrink: 0;\n  color: var(--invert-color);\n  background-color: var(--accent-color);\n  &:hover {\n    background-color: var(--accent-hover);\n  }\n  font-family: Manrope;\n  font-size: 14px;\n  font-weight: 600;\n  line-height: 20px; /* 142.857% */\n  cursor: pointer;\n"]))),P=m.Z.button(p||(p=(0,b.Z)(["\n  position: absolute;\n  bottom: 11px;\n  right: 18px;\n  width: 20px;\n  height: 20px;\n  /* justify-content: center; */\n  padding: 0px;\n  /* text-align: center; */\n  border: none;\n  cursor: pointer;\n  background-color: inherit;\n"]))),E=t(373),L=function(n){var e=n.handleChangeQuery,t=(0,x.useState)(""),r=(0,h.Z)(t,2),o=r[0],a=r[1],i=(0,x.useState)(""),c=(0,h.Z)(i,2),u=c[0],l=c[1],s=(0,x.useState)(""),d=(0,h.Z)(s,2),f=d[0],p=d[1],g=(0,x.useState)(""),b=(0,h.Z)(g,2),m=b[0],v=b[1],j=function(n){switch(n.target.name){case"brand":a(n.target.value);break;case"price":l(n.target.value);break;case"from":p(n.target.value);break;case"to":v(n.target.value);break;default:console.log("Something wrong")}},L=(0,Z.x0)(),M=(0,Z.x0)(),D=(0,Z.x0)();return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(w,{onSubmit:function(n){n.preventDefault();var t={make:o,rentalPrice:Number(u),mileageFrom:f,mileageTo:m};e(t)},children:[(0,y.jsxs)(k,{htmlFor:L,children:["Car brand",(0,y.jsx)(O,{id:L,type:"text",name:"brand",placeholder:"Enter the text",onChange:j,value:o}),(0,y.jsx)(P,{type:"button",children:(0,y.jsx)(E.OId,{})})]}),(0,y.jsxs)(k,{htmlFor:M,children:["Price/ 1 hour",(0,y.jsx)(O,{id:M,type:"number",name:"price",placeholder:"To $",value:u,onChange:j})]}),(0,y.jsxs)(k,{htmlFor:D,children:["\u0421ar mileage / km",(0,y.jsxs)(S,{children:[(0,y.jsx)(O,{id:D,type:"number",name:"from",value:f,onChange:j}),(0,y.jsx)(O,{id:D,type:"number",name:"to",value:m,onChange:j})]})]}),(0,y.jsx)(C,{type:"submit",children:"Search"})]})})},M=t(433),D=t(861),F=t(687),T=t.n(F),z=t(243);z.Z.defaults.baseURL="https://652fcda36c756603295db0b7.mockapi.io/api/";var B,A=function(){var n=(0,D.Z)(T().mark((function n(e){var t,r;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=new URLSearchParams(e),n.next=3,z.Z.get("adverts?".concat(t));case 3:return r=n.sent,n.abrupt("return",r.data);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Q=t(617),R=t(260),U=m.Z.section(B||(B=(0,b.Z)(["\n  max-width: 1440px;\n  margin: 0 auto;\n"]))),_=function(n){var e=n.children;return(0,y.jsx)(U,{children:e})},I=t(834),K=function(){var n=(0,x.useState)({}),e=(0,h.Z)(n,2),t=e[0],r=e[1],o=(0,x.useState)(1),a=(0,h.Z)(o,2),c=a[0],u=a[1],l=(0,x.useState)(!1),s=(0,h.Z)(l,2),d=s[0],f=s[1],p=(0,x.useCallback)((function(){f(!1)}),[]),b=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=(0,x.useState)([]),r=(0,h.Z)(t,2),o=r[0],a=r[1],c=(0,x.useState)(null),u=(0,h.Z)(c,2),l=u[0],s=u[1],d=(0,x.useState)(!1),f=(0,h.Z)(d,2),p=f[0],g=f[1],b=(0,x.useState)(!1),m=(0,h.Z)(b,2),v=m[0],y=m[1];return(0,x.useEffect)((function(){g(!0),A(i({page:n,limit:8},e)).then((function(n){g(!1),a((function(e){return[].concat((0,M.Z)(e),(0,M.Z)(n))})),s(null),n.length<8&&y(!0)})).catch((function(n){s(n),g(!1),y(!0)}))}),[n,e]),{adverts:o,error:l,isLoading:p,noMoreAdverts:v}}(c,t),m=b.adverts,v=b.noMoreAdverts,Z=function(n){console.log(n.target),console.log(n.currentTarget),n.target===n.currentTarget&&p()};return(0,x.useEffect)((function(){var n=function(n){d&&"Escape"===n.key&&p()};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n),document.body.style.overflow="auto"}}),[d,p]),(0,y.jsx)(_,{onClick:Z,children:(0,y.jsxs)(I.W,{onClick:Z,children:[!d&&(0,y.jsx)(Q.Z,{addSideBar:function(){return f(!0)}}),(0,y.jsx)(R.K,{showSideBar:d,removeSideBar:p}),(0,y.jsx)(L,{handleChangeQuery:function(n){r((function(e){return i(i({},e),n)}))}}),(0,y.jsx)(g.j,{catalog:m}),!v&&(0,y.jsx)(j,{handleLoadMore:function(){u((function(n){return n+1}))}})]})})}}}]);
//# sourceMappingURL=110.1cf58039.chunk.js.map