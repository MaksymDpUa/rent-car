{"version":3,"file":"static/js/110.1cf58039.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/LoadMoreBtn/LoadMoreBtn.styled.jsx","components/LoadMoreBtn/LoadMoreBtn.jsx","components/Filters/Filters.styled.jsx","components/Filters/Filters.jsx","helpers/api/fetchAdverts.js","components/Section/Section.styled.jsx","components/Section/Section.jsx","pages/CatalogPage/CatalogPage.jsx","hooks/useFetchAdverts.js"],"sourcesContent":["import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nexport default function _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}","import styled from '@emotion/styled';\n\nexport const LoadMoreBtnEl = styled.button`\n  display: block;\n  margin: 100px auto 0 auto;\n  border: none;\n  color: #3470ff;\n  background-color: inherit;\n  font-family: Manrope;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 24px; /* 150% */\n  text-decoration-line: underline;\n  cursor: pointer;\n`;\n","import { LoadMoreBtnEl } from \"./LoadMoreBtn.styled\";\n\nexport const LoadMoreBtn = ({ handleLoadMore }) => {\n  return <LoadMoreBtnEl onClick={handleLoadMore}>Load more</LoadMoreBtnEl>;\n};\n","import styled from '@emotion/styled';\n\nexport const SideBarFilters = styled.form`\n  display: flex;\n  gap: 18px;\n  margin: 0 auto 50px auto;\n  justify-content: center;\n  align-items: flex-end;\n`;\n\nexport const FieldLabel = styled.label`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  color: #8a8a89;\n  font-family: Manrope;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 18px; /* 128.571% */\n`;\n\nexport const InputsThumb = styled.div`\n  display: flex;\n`;\n\nexport const Input = styled.input`\n  /* display: flex; */\n  padding: 14px 18px 14px 18px;\n  border: none;\n  /* justify-content: center;\n  align-items: center; */\n  /* gap: 32px; */\n  width: ${props => {\n    switch (props.name) {\n      case 'brand':\n        return '224px';\n      case 'price':\n        return '125px';\n      default:\n        return '160px';\n    }\n  }};\n  border-radius: 14px;\n  background: #f7f7fb;\n  color: #121417;\n`;\n\nexport const SearchBtn = styled.button`\n  display: flex;\n  border-radius: 12px;\n  width: 136px;\n  height: 48px;\n  padding: 14px 44px;\n  border: none;\n  justify-content: center;\n  align-items: center;\n  flex-shrink: 0;\n  color: var(--invert-color);\n  background-color: var(--accent-color);\n  &:hover {\n    background-color: var(--accent-hover);\n  }\n  font-family: Manrope;\n  font-size: 14px;\n  font-weight: 600;\n  line-height: 20px; /* 142.857% */\n  cursor: pointer;\n`;\n\nexport const ShevronBtn = styled.button`\n  position: absolute;\n  bottom: 11px;\n  right: 18px;\n  width: 20px;\n  height: 20px;\n  /* justify-content: center; */\n  padding: 0px;\n  /* text-align: center; */\n  border: none;\n  cursor: pointer;\n  background-color: inherit;\n`;\n","import { nanoid } from 'nanoid';\nimport {\n  FieldLabel,\n  InputsThumb,\n  SearchBtn,\n  SideBarFilters,\n  ShevronBtn,\n  Input,\n} from './Filters.styled';\nimport { IoIosArrowDown } from 'react-icons/io';\nimport { useState } from 'react';\n\nexport const Filters = ({ handleChangeQuery }) => {\n  const [make, setMake] = useState('');\n  const [rentalPrice, setRentalPrice] = useState('');\n  const [mileageFrom, setMileageFrom] = useState('');\n  const [mileageTo, setMileageTo] = useState('');\n\n  const handleInputChange = e => {\n    switch (e.target.name) {\n      case 'brand':\n        setMake(e.target.value);\n        break;\n      case 'price':\n        setRentalPrice(e.target.value);\n        break;\n      case 'from':\n        setMileageFrom(e.target.value);\n        break;\n      case 'to':\n        setMileageTo(e.target.value);\n        break;\n      default:\n        console.log('Something wrong');\n    }\n  };\n\n  const inputModelId = nanoid();\n  const inputPriceId = nanoid();\n  const inputMileageId = nanoid();\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const searchQuery = {\n      make,\n      rentalPrice: Number(rentalPrice),\n      mileageFrom,\n      mileageTo,\n    };\n    handleChangeQuery(searchQuery);\n  };\n\n  return (\n    <>\n      <SideBarFilters onSubmit={onSubmit}>\n        <FieldLabel htmlFor={inputModelId}>\n          Car brand\n          <Input\n            id={inputModelId}\n            type=\"text\"\n            name=\"brand\"\n            placeholder=\"Enter the text\"\n            onChange={handleInputChange}\n            value={make}\n          ></Input>\n          <ShevronBtn type=\"button\">\n            <IoIosArrowDown />\n          </ShevronBtn>\n        </FieldLabel>\n\n        <FieldLabel htmlFor={inputPriceId}>\n          Price/ 1 hour\n          <Input\n            id={inputPriceId}\n            type=\"number\"\n            name=\"price\"\n            placeholder=\"To $\"\n            value={rentalPrice}\n            onChange={handleInputChange}\n          ></Input>\n        </FieldLabel>\n\n        <FieldLabel htmlFor={inputMileageId}>\n          Сar mileage / km\n          <InputsThumb>\n            <Input\n              id={inputMileageId}\n              type=\"number\"\n              name=\"from\"\n              value={mileageFrom}\n              onChange={handleInputChange}\n            >       \n            </Input>\n            <Input\n              id={inputMileageId}\n              type=\"number\"\n              name=\"to\"\n              value={mileageTo}\n              onChange={handleInputChange}\n            >        \n            </Input>\n          </InputsThumb>\n        </FieldLabel>\n        <SearchBtn type=\"submit\">Search</SearchBtn>\n      </SideBarFilters>\n    </>\n  );\n};\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://652fcda36c756603295db0b7.mockapi.io/api/';\n\nexport const fetchAdverts = async params => {\n  const queryParams = new URLSearchParams(params);\n  const response = await axios.get(`adverts?${queryParams}`);\n  return response.data;\n};\n","import styled from '@emotion/styled';\n\nexport const SectionEl = styled.section`\n  max-width: 1440px;\n  margin: 0 auto;\n`;\n","import { SectionEl } from './Section.styled';\n\nconst Section = ({ children }) => {\n  return <SectionEl>{children}</SectionEl>;\n};\n\nexport default Section;\n","import { useCallback, useEffect, useState } from 'react';\nimport { AdvertList } from '../../components/AdvertList/AdvertList';\nimport { LoadMoreBtn } from '../../components/LoadMoreBtn/LoadMoreBtn';\nimport { Filters } from '../../components/Filters/Filters';\nimport { useFetchAdverts } from '../../hooks/useFetchAdverts';\nimport { BurgerBtn } from 'BurgerBtn/BurgerBtn';\nimport { SideBar } from 'components/SideBar/SideBar';\nimport Section from 'components/Section/Section';\nimport { Container } from 'components/Container/Container';\n\nconst Catalog = () => {\n  const [query, setQuery] = useState({});\n  const [page, setPage] = useState(1);\n  const [showSideBar, setShowSideBar] = useState(false);\n\n  const addSideBar = () => setShowSideBar(true);\n\n  const removeSideBar = useCallback(() => {\n    setShowSideBar(false);\n  }, []);\n\n  const { adverts: catalog, noMoreAdverts } = useFetchAdverts(page, query);\n\n  const handleLoadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  const handleChangeQuery = params => {\n    setQuery(prevParams => ({ ...prevParams, ...params }));\n  };\n\n  const handleBackdropClick = event => {\n    console.log(event.target);\n    console.log(event.currentTarget);\n    if (event.target === event.currentTarget) {\n      removeSideBar();\n    }\n  };\n\n  useEffect(() => {\n    const handleEscKeyPress = event => {\n      if (showSideBar && event.key === 'Escape') {\n        removeSideBar();\n      }\n    };\n    window.addEventListener('keydown', handleEscKeyPress);\n    return () => {\n      window.removeEventListener('keydown', handleEscKeyPress);\n      document.body.style.overflow = 'auto';\n    };\n  }, [showSideBar, removeSideBar]);\n\n  return (\n    <Section onClick={handleBackdropClick}>\n      <Container onClick={handleBackdropClick}>\n        {!showSideBar && <BurgerBtn addSideBar={addSideBar} />}\n        <SideBar showSideBar={showSideBar} removeSideBar={removeSideBar} />\n        <Filters handleChangeQuery={handleChangeQuery} />\n        <AdvertList catalog={catalog} />\n        {!noMoreAdverts && <LoadMoreBtn handleLoadMore={handleLoadMore} />}\n      </Container>\n    </Section>\n  );\n};\nexport default Catalog;\n","import { useState, useEffect } from \"react\";\nimport { fetchAdverts } from \"../helpers/api/fetchAdverts\";\n\nexport const useFetchAdverts = (page, params = \"\") => {\n  const [fetchedAdverts, setFetchedAdverts] = useState([]);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [noMoreAdverts, setNoMoreAdverts] = useState(false);\n\n  useEffect(() => {\n    const fulfilledPromise = (newAdverts) => {\n      setIsLoading(false);\n      setFetchedAdverts((prevValue) => [...prevValue, ...newAdverts]);\n      setError(null);\n      if (newAdverts.length < 8) setNoMoreAdverts(true);\n    };\n\n    const rejectedPromise = (error) => {\n      setError(error);\n      setIsLoading(false);\n      setNoMoreAdverts(true);\n    };\n\n\n    setIsLoading(true);\n    fetchAdverts({ page, limit: 8, ...params })\n      .then(fulfilledPromise)\n      .catch(rejectedPromise);\n  }, [page, params]);\n\n  return {\n    adverts: fetchedAdverts,\n    error,\n    isLoading,\n    noMoreAdverts,\n  };\n};\n\n\n"],"names":["_defineProperty","obj","key","value","toPropertyKey","Object","defineProperty","enumerable","configurable","writable","ownKeys","e","r","t","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","push","apply","_objectSpread2","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","LoadMoreBtnEl","styled","LoadMoreBtn","handleLoadMore","onClick","SideBarFilters","FieldLabel","InputsThumb","Input","props","name","SearchBtn","ShevronBtn","Filters","handleChangeQuery","useState","make","setMake","rentalPrice","setRentalPrice","mileageFrom","setMileageFrom","mileageTo","setMileageTo","handleInputChange","target","console","log","inputModelId","nanoid","inputPriceId","inputMileageId","onSubmit","preventDefault","searchQuery","Number","htmlFor","id","type","placeholder","onChange","axios","fetchAdverts","params","queryParams","URLSearchParams","response","data","SectionEl","children","query","setQuery","page","setPage","showSideBar","setShowSideBar","removeSideBar","useCallback","fetchedAdverts","setFetchedAdverts","error","setError","isLoading","setIsLoading","noMoreAdverts","setNoMoreAdverts","useEffect","limit","then","newAdverts","prevValue","catch","adverts","useFetchAdverts","catalog","handleBackdropClick","event","currentTarget","handleEscKeyPress","window","addEventListener","removeEventListener","document","body","style","overflow","Container","BurgerBtn","addSideBar","SideBar","prevParams","AdvertList","prevPage"],"sourceRoot":""}